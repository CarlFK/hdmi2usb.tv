<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <title>TOFE - Tim's Open FPGA Expansion</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="">
  <link rel="alternate" type="application/atom+xml" title="Tim Videos Planet Feed" href="/feed.xml" />
  <link rel="canonical" href="http://hdmi2usb.tv//tofe/">
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.5.7/slick.css"/>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.5.7/slick-theme.css"/>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="/css/styles.css" rel="stylesheet">
</head>

  <body>
    <div class="wrapper">
      <div class="box">
        <div class="row">
          <div class="column col-sm-3 col-md-3 col-lg-2" id="sidebar">
  <a class="logo" href="/">
    <img src="/img/logo.png" />
    <span>HDMI2USB</span>
  </a>
  <ul class="nav">
    <li class="">
      <a href="/home/">HOME</a>
    </li>
    <li class="">
      <a href="/faq/">ABOUT + FAQ</a>
    </li>
    <li class="">
      <a href="/news/">NEWS</a>
    </li>
    <li class="active">
      <a href="/hardware/">HARDWARE</a>
    </li>
    <li class="">
     <ul>
      <li><a href="/digilent-atlys/">Digilent Atlys</a></li>
     </ul>
    </li>
    <li class="">
     <ul>
      <li><a href="/numato-opsis/">Numato Opsis</a></li>
     </ul>
    </li>
    <li class="">
     <ul>
      <li><a href="/potential-boards/">Potential Boards</a></li>
     </ul>
    </li>
    <li class="active">
     <ul>
      <li><a href="/tofe/">TOFE</a></li>
     </ul>
    </li>
    <li class="nav">
     <ul>
     
      <li class="nav">
        <ul>
          <li class=""><a href="/tofe/EEPROM.html">EEPROM Format</a></li>
          <li class=""><a href="/tofe/lowspeedio">Low Speed IO</a></li>
          <li class=""><a href="/tofe/milkymist">Milkymist</a></li>
          <li class=""><a href="/tofe/adapters">Adapters</a></li>
        </ul>
      </li>
     
     </ul>
    </li>
    <li class="">
      <a href="/firmware/">FIRMWARE</a>
    </li>
    <li class="">
      <a href="/help/">GETTING HELP</a>
    </li>
    <li class="">
      <a href="/drivers/">DRIVERS</a>
    </li>
    <li>
      <a href="https://code.timvideos.us">To TimVideos</a>
  </ul>
  <ul class="nav hidden-xs" id="sidebar-footer">
    <li class="social">
      <a href="https://planet.timvideos.us/feed.xml"><i class="fa fa-rss"></i></a>
      <a href="https://www.twitter.com/TimVideosUs"><i class="fa fa-twitter"></i></a>
    </li>
    <li>
      <span>Proudly hosted by <a id="github" href="https://www.github.com">GitHub</a>
      </span>
    </li>
  </ul>
</div>

          <div class="column col-sm-9 col-md-9 col-lg-10" id="main">
            
            <div class="padding">
  <div class="col-sm-12">
    <div class="panel panel-default">
        <span class="edit-link pull-right">
          <a href="http://editor.timvideos.us/#timvideos/hdmi2usb.tv/edit/master/TOFE.md" target="_blank">
            <i class="fa fa-edit"></i>
          </a>
        </span>
      <div class="panel-body">
        <h1 id="tofe---tims-open-fpga-expansion">TOFE - Tim&#8217;s Open FPGA Expansion</h1>

<p>The TOFE interface dramatically reduces the cost of high-speed I/O
functionality by taking inspiration from the PCI-Express standard and
re-purposing its connectors and mechanical specifications.</p>

<p>TimVideos and Numato are committed to developing expansion boards to add new
features (such as VGA capture) to the Opsis board through the TOFE connector.
We also plan to create simple adapter boards to other existing expansion I/O
standards such as PMOD and the Digilent VHDCI.</p>

<p>We hope that the significantly reduced cost of the TOFE interface will also
enable the community to create new expansion boards we havenâ€™t even dreamt of
yet!</p>

<h2 id="why">Why?</h2>

<p>We want a FPGA expansion that fits the following criteria;</p>

<ul>
  <li>Open standard that anyone can access without NDA or other agreements.</li>
  <li>Cheap connection interface that are easily accessible to <strong>any</strong> hobbyists.</li>
  <li>Supports high speed signals &gt;5 Gbit/s.</li>
</ul>

<p><img src="https://imgs.xkcd.com/comics/standards.png" /></p>

<p><a href="https://docs.google.com/document/d/1KzStzKqC7nXBJ8nz8FIvqCoLN01p7YXi8MhAZCt0oXw/edit">Document examining wide variety expansion board interfaces</a></p>

<h2 id="specification">Specification</h2>

<h3 id="naming">Naming</h3>

<h4 id="motherboard-connectors">Motherboard Connectors</h4>

<p>The aim with naming of a TOFE motherboard connector completely describes the
features available.</p>

<p>The name scheme needs to include;</p>

<ul>
  <li>PCI Express connector size
    <ul>
      <li>1x</li>
      <li>4x</li>
      <li>8x</li>
      <li>16x</li>
    </ul>
  </li>
  <li>
    <p>The number of lanes populated. To improve brevity, if the number of lanes
populated is left out then <strong>all</strong> lanes in the connector should be
populated.</p>
  </li>
  <li>If the connector supports &#8220;bi-directional&#8221; or &#8220;uni-directional&#8221; signaling.
    <ul>
      <li>B - Bi-Directional</li>
      <li>S - Uni-directional</li>
    </ul>
  </li>
  <li>The maximum operating lane speed;
    <ul>
      <li>1500M</li>
      <li>3125M</li>
      <li>XXXXM</li>
    </ul>
  </li>
  <li>
    <p>The minimum operating lane speed. If unspecified, then it is assume the lane
can operate down to DC.</p>
  </li>
  <li>The compatible IO standards that are supported.
    <ul>
      <li>Voltage levels which are compatible.
        <ul>
          <li>1.5V, 1.8V, 2.5V, 3.3V.</li>
        </ul>
      </li>
      <li>Signalling standards.
        <ul>
          <li>LVDS - Low Voltage Differential Signaling</li>
          <li>RSDS - Reduced Swing Differential Signaling</li>
          <li>PPDS - Point-to-Point Differential Signaling</li>
          <li>TMDS - Transition Minimized Differential Signaling</li>
          <li>BLVDS - Bus LVDS</li>
        </ul>
      </li>
      <li>Line encodings which are compatible.
        <ul>
          <li>8b/10b - Used by pretty much everything.</li>
          <li>64b/66b - 10 Gbit/s Ethernet</li>
          <li>64b/67b - Interlaken</li>
          <li>128b/130b - PCI-Express Gen 3 and higher.</li>
          <li>128b/132b - USB3.1</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>The amount of power that can be provided,
    <ul>
      <li>All together (from both 3.3V and 12V combined).</li>
      <li>Just via the 12V pins.</li>
      <li>Just via the 3.3V pins.</li>
    </ul>
  </li>
  <li>Any extra properties that could be useful like;
    <ul>
      <li>Beacon signaling for PCI Express compatibility.</li>
      <li>SATA Out-of-Band signaling.</li>
    </ul>
  </li>
</ul>

<h4 id="daughterboard">Daughterboard</h4>

<p>The aim with naming a TOFE daughter board is to completely describe the
features required for the daughter board to correctly operate.</p>

<h5 id="pci-express">PCI-Express</h5>

<p>PCI-Express cards are actually compatible with TOFE motherboard sockets which
meet the following requirements;</p>

<table>
  <tbody>
    <tr>
      <td>Version</td>
      <td>Generation</td>
      <td>Lane Speed</td>
      <td>Line code</td>
    </tr>
    <tr>
      <td>1.0</td>
      <td>Gen 1</td>
      <td>2.5 Gbit/s</td>
      <td>8b/10b</td>
    </tr>
    <tr>
      <td>2.0</td>
      <td>Gen 2</td>
      <td>5.0 Gbit/s</td>
      <td>8b/10b</td>
    </tr>
    <tr>
      <td>3.0</td>
      <td>Gen 3</td>
      <td>8.0 Gbit/s</td>
      <td>128b/130b</td>
    </tr>
    <tr>
      <td>4.0</td>
      <td>Gen 4</td>
      <td>16.0 Gbit/s</td>
      <td>128b/130b</td>
    </tr>
  </tbody>
</table>

<p>PCI-Express 1st gen would be
  TOFE-Xx-3000M-PS</p>

<h3 id="spreadsheet-of-connections">Spreadsheet of connections</h3>

<p><a href="https://docs.google.com/spreadsheets/d/15rivtOcSG4kqKf0AUK_OwBfs67XQtW8byr8kc5FUTgE/edit">Edit or Comment Link</a></p>

<iframe src="https://docs.google.com/spreadsheets/d/15rivtOcSG4kqKf0AUK_OwBfs67XQtW8byr8kc5FUTgE/pubhtml?widget=true&amp;headers=false" style="min-height: 900px;"></iframe>

<h2 id="comparison">Comparison</h2>

<table style="font-size: 10pt; background-color: #F7F9F9">
<thead>
 <tr>
  <th></th>
  <th class="tofe00">TOFE</th>
  <th class="dvhdci">Digilent VHDCI</th>
  <th class="fmclpc">FMC LPC</th>
  <th class="fmchpc">FMC HPC</th>
  <th class="alhsmc">Altera HSMC</th>
 </tr>
</thead>
<tbody>
 <tr>
  <th>Open Specification</th>
  <td class="tofe00">Yes</td>
  <td class="dvhdci">None</td>
  <td class="fmclpc">No</td>
  <td class="fmchpc">No</td>
  <td class="alhsmc">Yes</td>
 </tr><tr>
  <th>Autodetect and Configuration Interface</th>
  <td class="tofe00">SMBUS or JTAG [5]</td>
  <td class="dvhdci">None</td>
  <td class="fmclpc">JTAG or SMBUS</td>
  <td class="fmchpc">JTAG or SMBUS</td>
  <td class="alhsmc">JTAG or SMBUS</td>
 </tr><tr>
  <th>Power</th>
  <td class="tofe00">12V and 3.3V</td>
  <td class="dvhdci">3.3V or 2.5V</td>
  <td class="fmclpc">12V, 3.3V and adjustable</td>
  <td class="fmchpc">12V, 3.3V and adjustable</td>
  <td class="alhsmc">12V and 3.3V</td>
 </tr><tr>
  <th>Transceiver Pairs</th>
  <td class="tofe00">Up to 14 RX and 14 TX</td>
  <td class="dvhdci">0</td>
  <td class="fmclpc">0</td>
  <td class="fmchpc">Up to 10</td>
  <td class="alhsmc">Up to 8 RX and 8TX</td>
 </tr><tr>
  <th colspan="9">LVDS Pairs</th>
 </tr><tr>
  <td style="padding: 2px; padding-left: 10px">Total</td>
  <td class="tofe00">Up to 34</td>
  <td class="dvhdci">22</td>
  <td class="fmclpc">Up to 34</td>
  <td class="fmchpc">Up to 80</td>
  <td class="alhsmc">Up to 18 TX and 18 RX</td>
 </tr><tr>
  <td style="padding: 2px; padding-left: 10px">IO Pairs</td>
  <td class="tofe00">Up to 34 [6]</td>
  <td class="dvhdci">22</td>
  <td class="fmclpc">?</td>
  <td class="fmchpc">?</td>
  <td class="alhsmc">Up to 16 TX and 16 RX</td>
 </tr><tr>
  <td style="padding: 2px; padding-left: 10px">Clock Pairs</td>
  <td class="tofe00">Up to 7 [6]</td>
  <td class="dvhdci">2</td>
  <td class="fmclpc">?</td>
  <td class="fmchpc">?</td>
  <td class="alhsmc">Up to 2 TX and 2 RX</td>
 </tr><tr>
  <th>Additional low speed IO</th>
  <td class="tofe00">11</td>
  <td class="dvhdci">0</td>
  <td class="fmclpc">?</td>
  <td class="fmchpc">?</td>
  <td class="alhsmc">4 x IO, 2 x CLK</td>
 </tr><tr>
  <th colspan="9">Connector</th>
 </tr><tr>
  <td style="padding: 2px; padding-left: 10px">Motherboard</td>
  <td class="tofe00">PCI-Express<br />~$1 USD</td>
  <td class="dvhdci">VHDCI<br />~$8 USD</td>
  <td class="fmclpc">Low Density FMC<br />~$30 USD</td>
  <td class="fmchpc">High Density FMC<br />~$80 USD</td>
  <td class="alhsmc">HSMC<br />~$5 USD</td>
 </tr><tr>
  <td style="padding: 2px; padding-left: 10px">Daughterboard</td>
  <td class="tofe00">None<br />~$0 USD</td>
  <td class="dvhdci">VHDCI<br />~$8 USD</td>
  <td class="fmclpc">Low Density FMC<br />~$30 USD</td>
  <td class="fmchpc">High Density FMC<br />~$80 USD</td>
  <td class="alhsmc">HSMC<br />~$5 USD</td>
 </tr>
</tbody>
</table>

<h3 id="mechanical">Mechanical</h3>

<p>TOFE boards should be mechanically identical to PCI-Express <strong>half length</strong>
cards in either <strong>full height</strong> or <strong>half height</strong> (also called low profile).</p>

<p>However, the only regions which matter for TOFE boards are the PCI-Express
fingers and the mechanical drill holes. See the following diagram;</p>

<p><img src="/img/tofe/tofe-layout-full-height.png" alt="TOFE Requirements Diagram" /></p>

<p>Any of the area marked in green is free to be changed. This offers a wide range
of mechanical designs, such as shown in this diagram;</p>

<p><img src="/img/tofe/tofe-examples-full-height.png" alt="TOFE Examples Diagram" /></p>

<h2 id="boards">Boards</h2>

<h3 id="existing">Existing</h3>

<p>These boards are currently available;</p>

<ul>
  <li><a href="/tofe/milkymist">Milkymist Compatibility - TOFE Expansion Board</a></li>
  <li><a href="/tofe/lowspeedio">Low Speed IO - TOFE Expansion Board</a></li>
</ul>

<h3 id="planned">Planned</h3>

<p>These boards are planned for construction or currently under development;</p>

<h4 id="adapter-boards">Adapter Boards</h4>

<p>Boards which adapt to other standards for peripheral interfacing.</p>

<ul>
  <li>
    <p>To PMOD - Simple passive adapter which allows PMOD based peripherals be used
on a TOFE header.</p>
  </li>
  <li>
    <p>To VHDCI Adapter - Simple passive adapter which allows usage of peripherals
designed for the Digilent Atlys board.</p>
  </li>
  <li>
    <p>To Arduino Shield - Adapter which is compatible with Arduino shields.
Contains an ADC/DAC to be compatible with the Analog pins.</p>
  </li>
  <li>
    <p>To FMC LPC - Adapter which is allows FMC LPC compatible boards be used on
TOFE expansion.</p>
  </li>
</ul>

<h4 id="functionality-boards">Functionality Boards</h4>

<p>Boards which add new functionality to TOFE compatible device.</p>

<ul>
  <li>
    <p>VGA Input - Adaption of Rohit&#8217;s vmodvga designed with a TOFE interface
rather than a VHDCI interface.</p>
  </li>
  <li>
    <p>4 x HDMI - Board which adds 4 x HDMI ports using a 8xTOFE connector.</p>
  </li>
  <li>
    <p>3 x 1G Ethernet - Board which adds 3 (maybe 4?) x Gigabit Ethernet ports.</p>
  </li>
  <li>
    <p>? x SDI - Board which adds SDI interfacing capabilities.</p>
  </li>
</ul>

<h1 id="templates">Templates</h1>

<p>A
<a href="https://github.com/timvideos/HDMI2USB-TOFE-kicad-template">KiCad template for TOFE boards</a>
can be found on GitHub.</p>

<!-- gst-switch References -->

<!-- gst-switch (speaker track) -->

<!-- HDMI2USB References -->

<!-- Video standard References -->

<!-- Streaming System -->

<!-- Other -->


      </div>
    </div>
  </div>
</div>

            <div id=end>&nbsp;</div>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.5.7/slick.min.js"></script>
<script type="text/javascript" src="/js/app.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js?v=2.1.5"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-23123757-4', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

  </body>
</html>
